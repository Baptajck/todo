(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{42:function(e,t,c){},43:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),s=c(33),r=c.n(s),i=(c(42),c(43),c(6)),l=c(11),o=c(5),d="ADD_TASK",j="DELETE_TASK",b="UPDATE_TASK",u="COMPLETED_TASK",m="CHANGE_TASK",O="BACK_TO_TASK",h=c(1),p={tasks:[],complete:[]},x=function(e,t){switch(t.type){case m:var c=e.tasks.filter((function(e){return e.id!==t.payload.id})),a=Object(o.a)(Object(o.a)({},t.payload.task[0]),{},{realTitle:t.payload.desc.title,description:t.payload.desc.desc});return Object(o.a)(Object(o.a)({},e),{},{tasks:[].concat(Object(l.a)(c),[a])});case d:var n={id:Math.floor(100*Math.random()),title:t.payload,completed:!1};return Object(o.a)(Object(o.a)({},e),{},{tasks:[].concat(Object(l.a)(e.tasks),[n])});case b:var s=t.payload,r=s.updateText,i=s.todo.id,h={id:i,title:r.trim(),completed:!1},p=e.tasks.filter((function(e){return e.id!==i}));return Object(o.a)(Object(o.a)({},e),{},{tasks:[h].concat(Object(l.a)(p))});case j:var x=e.tasks.filter((function(e){return e.id!==t.payload})),f=e.complete.filter((function(e){return e.id!==t.payload}));return Object(o.a)(Object(o.a)({},e),{},{tasks:Object(l.a)(x),complete:Object(l.a)(f)});case O:var v=t.payload,y=v.id,g=v.title,N=e.complete.filter((function(e){return e.id!==y})),k={id:y,title:g,completed:!1};return Object(o.a)(Object(o.a)({},e),{},{tasks:[].concat(Object(l.a)(e.tasks),[k]),complete:Object(l.a)(N)});case u:var C=t.payload,w=C.id,T=C.title,S=e.tasks.filter((function(e){return e.id!==w})),A={id:w,title:T,completed:!0};return Object(o.a)(Object(o.a)({},e),{},{tasks:Object(l.a)(S),complete:[].concat(Object(l.a)(e.complete),[A])});default:return e}},f=Object(a.createContext)(),v=function(e){var t=e.children,c=Object(a.useReducer)(x,p);return Object(h.jsx)(f.Provider,{value:c,children:t})},y=c(12),g=c(17),N=c(35),k=c(36),C={backgroundColor:"#eee",textAlign:"center",padding:"1em"},w=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!1),r=Object(i.a)(s,2),l=r[0],o=r[1],m=Object(a.useState)(""),p=Object(i.a)(m,2),x=p[0],v=p[1],w=Object(a.useState)(!1),T=Object(i.a)(w,2),S=T[0],A=T[1],L=Object(a.useState)(""),F=Object(i.a)(L,2),D=F[0],E=F[1],K=Object(a.useContext)(f),_=Object(i.a)(K,2),M=_[0],I=_[1],P=function(e){v(e.target.value)},R=function(e){I({type:j,payload:e})};return Object(h.jsxs)("div",{style:C,children:[l?Object(h.jsx)("p",{className:"error",children:"Le champ est vide"}):null,Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),0!==c.length?(I({type:d,payload:c.trim()}),o(!1),n("")):o(!0)},children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",value:c,onChange:function(e){n(e.target.value)},className:"form-control inputT",placeholder:"Nouveau titre...",id:"text"})}),Object(h.jsx)("button",{className:"btn btn-secondary",type:"submit",children:"Ajouter"})]}),Object(h.jsxs)("div",{className:"container-tasks",children:[Object(h.jsxs)("div",{className:"container-todo",children:[Object(h.jsx)("h3",{children:"TaskList :"}),M.tasks&&!M.tasks.complete?Object(h.jsx)(a.Fragment,{children:M.tasks.map((function(e){return Object(h.jsx)(a.Fragment,{children:S&&e.id===D.id?Object(h.jsx)(a.Fragment,{children:Object(h.jsx)("div",{className:"card border-light mb-3",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",value:x,onChange:P,className:"form-control",placeholder:"Nouveau titre...",id:"text"})}),Object(h.jsx)("button",{className:"btn btn-secondary",onClick:function(){return t=e,void(0!==x.length?(A(!1),E([]),v(""),o(!1),I({type:b,payload:{todo:t,updateText:x}})):o(!0));var t},children:Object(h.jsx)(g.a,{})})]})})}):Object(h.jsx)("div",{className:"card border-light mb-3",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("h4",{className:"card-title",children:[Object(h.jsx)(y.b,{to:"/details/".concat(e.id),className:"btn btn-outline-info",children:e.title}),Object(h.jsx)("p",{className:"text-muted mt-2",children:e.realTitle}),Object(h.jsx)("p",{className:"lead mt-2",children:e.description})]}),Object(h.jsxs)("p",{className:"card-text",children:[Object(h.jsx)("button",{className:"btn btn-secondary",onClick:function(){A(!0),E(e)},children:Object(h.jsx)(N.a,{})}),Object(h.jsx)("button",{className:"btn btn-success ml-2",onClick:function(){return function(e){I({type:u,payload:e})}(e)},children:Object(h.jsx)(g.a,{})}),Object(h.jsx)("button",{className:"btn btn-danger ml-2",onClick:function(){return R(e.id)},children:Object(h.jsx)(g.b,{})})]})]})})},e.id)}))}):null]}),Object(h.jsxs)("div",{className:"container-todo",children:[Object(h.jsx)("h3",{children:"TaskListCompleted :"}),M.complete?Object(h.jsx)(a.Fragment,{children:M.complete.map((function(e){return Object(h.jsx)("div",{className:"card border-light mb-3",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("p",{className:"complete",children:e.title}),Object(h.jsxs)("p",{className:"card-text",children:[Object(h.jsx)("button",{className:"btn btn-warning",onClick:function(){return function(e){I({type:O,payload:e})}(e)},children:Object(h.jsx)(k.a,{})}),Object(h.jsx)("button",{className:"btn btn-danger ml-2",onClick:function(){return R(e.id)},children:Object(h.jsx)(g.b,{})})]})]})})}))}):null]})]})]})},T=c(14),S=c.n(T),A=c(19),L=c(37),F=c.n(L),D=function(){var e=Object(A.a)(S.a.mark((function e(t,c){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat(c,"&units=metric&lang=fr"),e.next=3,F.a.get(a);case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.next=7,n.data;case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),E="GET_WEATHER",K={weather:{},apiKey:"f1feb914336310d05e871b3de9fef93f",city:"Lille"},_=function(e,t){switch(t.type){case E:var c=t.payload;return Object(o.a)(Object(o.a)({},e),{},{weather:c});default:return e}},M=Object(a.createContext)(),I=function(e){var t=e.children,c=Object(a.useReducer)(_,K);return Object(h.jsx)(M.Provider,{value:c,children:t})},P=function(){var e=Object(a.useContext)(M),t=Object(i.a)(e,1)[0];return Object(h.jsx)(a.Fragment,{children:t.weather.weather?Object(h.jsx)("div",{children:t.weather.weather.map((function(e,c){return Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("h3",{className:"card-header",children:"Weather"}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title",children:t.weather.name}),Object(h.jsxs)("h6",{className:"card-subtitle text-muted",children:[e.description," - ",t.weather.main.temp,"\xb0C"]})]}),Object(h.jsx)("img",{className:"d-block user-select-none m-auto",width:"200",height:"200",src:"http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png"),alt:"an icon"})]},c)}))}):null})},R=function(){var e=Object(a.useContext)(M),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(A.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(c.city,c.apiKey);case 2:t=e.sent,n({type:E,payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),setInterval((function(){e()}),36e5)}),[n]),Object(h.jsx)("div",{children:Object(h.jsx)(P,{})})},B=function(e){var t=e.visible,c=e.setIsVisible,n=Object(a.useState)(""),s=Object(i.a)(n,2),r=s[0],l=s[1],o=function(){c(!1)};return Object(h.jsx)("div",{className:"modal fade ".concat(t?"show":""," "),id:"locModal",tabIndex:"-1",role:"dialog","aria-labelledby":"locModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",role:"document",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"locModalLabel",children:"Choose Location"}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("form",{id:"w-form",onSubmit:function(e){e.preventDefault(),o()},children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"city",children:"City"}),Object(h.jsx)("input",{onChange:function(e){l(e.target.value)},value:r,type:"text",id:"city",className:"form-control"})]}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:o,children:"Close"}),Object(h.jsx)("button",{id:"w-change-btn",type:"submit",className:"btn btn-primary",children:"Save changes"})]})]})})]})})})},W=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),c=t[0],n=t[1],s=function(){n(!c)};return Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)("div",{className:"container card mb-3 p-1 cardWeather",children:Object(h.jsxs)(I,{children:[Object(h.jsx)(R,{}),Object(h.jsx)("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#locModal",onClick:s,children:"Change Location"})]})}),Object(h.jsx)(B,{visible:c,setIsVisible:s})]})},G=function(){var e=Object(a.useContext)(f),t=Object(i.a)(e,2),c=t[0],n=t[1],s=c.tasks,r=window.location.hash.split("/")[3],l=s.filter((function(e){return+e.id===+r}));return console.log(l),Object(h.jsxs)("div",{className:"container col-lg-8 offset-lg-1",children:[Object(h.jsx)(y.b,{to:"/",className:"btn btn_link",children:"Revenir \xe0 la liste"}),Object(h.jsx)("h1",{children:l[0].title}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(e.target),n({type:m,payload:{id:+r,desc:{title:e.target[0].value,desc:e.target[1].value},task:l}})},children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{className:"col-form-label",htmlFor:"inputDefault",children:"Titre"}),Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:l[0].realTitle,minLength:"1",id:"inputDefault"})]}),Object(h.jsxs)("div",{className:"form-group mt-5",children:[Object(h.jsx)("label",{htmlFor:"exampleTextarea",children:"Description"}),Object(h.jsx)("textarea",{className:"form-control",id:"exampleTextarea",rows:"3",placeholder:l[0].description,minLength:"1"})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Sauvegarder"})]})]})},H=c(3);var J=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(W,{}),Object(h.jsxs)(H.c,{children:[Object(h.jsxs)(v,{children:[Object(h.jsx)(H.a,{path:"/details/:id",component:G}),Object(h.jsx)(H.a,{exact:!0,path:"/",component:w})]}),"/"," "]})]})},V=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,70)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(h.jsx)(y.a,{basename:"/todo",children:Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(J,{})})}),document.getElementById("root")),V()}},[[69,1,2]]]);
//# sourceMappingURL=main.8bc5c84f.chunk.js.map